<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>会话管理</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="txyl" id="会话管理">会话管理</h1><div class="md-section-divider"></div><h2 data-anchor-id="794j" id="会话">会话</h2><ul data-anchor-id="yt9t">
<li><p>什么是会话？</p>

<p>用户开一个浏览器，点击多个超链接，访问服务器多个web资源，然后关 <br>
  闭浏览器，整个过程称之为一个会话。</p></li>
</ul><div class="md-section-divider"></div><h2 data-anchor-id="pinq" id="保存会话数据的两种技术">保存会话数据的两种技术</h2><ul data-anchor-id="083u">
<li><p>Cookie</p>

<p>cookie是客户端技术，服务器把每个用户的数据以cookie的形式写给用 <br>
户各自的浏览器。当用户使用浏览器再去访问服务器中的web资源时，就 <br>
会带着各自的数据去。这样，web资源处理的就是用户各自的数据了。</p></li>
<li><p>Session</p>

<p>Session是服务器端技术，利用这个技术，服务器在运行时可以为每一个用 <br>
户的浏览器创建一个其独享的session对象，由于session为用户浏览器独 <br>
享，所以用户在访问服务器的web资源时，可以把各自的数据放在各自的 <br>
session中，当用户再去访问服务器中的其它web资源时，其它web资源 <br>
再从用户各自的session中取出数据为用户服务。</p></li>
</ul><div class="md-section-divider"></div><h2 data-anchor-id="tglr" id="cookie应用">Cookie应用</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="d67y"><ol class="linenums"><li class="L0"><code><span class="pln">   </span><span class="typ">Cookie</span><span class="pun">.</span><span class="pln">setMaxAge</span><span class="pun">(</span><span class="lit">7</span><span class="pun">*</span><span class="lit">24</span><span class="pun">*</span><span class="lit">60</span><span class="pun">*</span><span class="lit">60</span><span class="pun">);</span><span class="com">//设置时间</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="pln">   </span><span class="typ">Cookie</span><span class="pun">.</span><span class="pln">setPath</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">);</span><span class="com">//设置路径</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="pln">   </span><span class="typ">Cookie</span><span class="pun">.</span><span class="pln">setMaxAge</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="com">//删除同名Cookie</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="da5h" id="cookie细节">Cookie细节</h2><ul data-anchor-id="2nap">
<li><p>一个Cookie只能标识一种信息</p></li>
<li><p>一个WEB站点可以给一个WEB浏览器发送多个Cookie，一个WEB浏览器也可以存储多个WEB站点提供的Cookie</p></li>
<li><p>一个WEB站点可以给一个WEB浏览器发送多个Cookie，一个WEB浏览器也可以存储多个WEB站点提供的Cookie</p></li>
<li><p>如果创建了一个cookie，并将他发送到浏览器，默认情况下它是一个会话级别的cookie（即存储在浏览器的内存中），用户退出浏览器之后即被删除。将最大时效设为0则是命令浏览器删除该cookie。</p></li>
<li><p>注意:删除cookie时，path必须一致，否则不会删除</p>

<h2 id="httpsession">HttpSession</h2>

<ul><li><p>在WEB开发中，服务器可以为每个用户浏览器创建一个会话对象（session对象），注意：一个浏览器独占一个session对象。</p></li>
<li><p>Session和Cookie的主要区别在于</p>

<ol><li><p>Cookie是把用户的数据写到用户独占的Session中</p></li>
<li><p>Session技术把用户的数据写到用户独占的session中。</p></li></ol></li>
<li><p>Session对象由服务器创建，开发人员可以调用request对象的getSession方法得到session对象。  </p></li></ul>

<h2 id="httpsession-api">HttpSession API</h2>

<ul><li>获得Session对象</li></ul></li>
<li><p>Session session = getSession(boolean flag);</p>

<ul><li>获得会话ID</li></ul></li>
<li><p>Session.getid();</p>

<ul><li>保存数据</li></ul></li>
<li><p>Session.setAttribute("name",Object);</p>

<ul><li>获取数据</li></ul></li>
<li><p>Session.getAttrbute("name");</p>

<h2 id="session实现原理">Session实现原理</h2>

<ul><li><p>session的失效时间(默认30分钟)</p></li>
<li><p>web.xml文件可以配置sessio的失效时间</p></li></ul></li>
</ul></div>
</body>
</html>